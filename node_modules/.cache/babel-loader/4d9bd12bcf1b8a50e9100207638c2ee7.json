{"ast":null,"code":"import _objectSpread from\"/Users/sagarkhanapurkar/Code/Torleado copy/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sagarkhanapurkar/Code/Torleado copy/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export var AuthContext=/*#__PURE__*/createContext();export var authReducer=function authReducer(state,action){switch(action.type){case'LOGIN':return{user:action.payload};case'LOGOUT':return{user:null};default:return state;}};export var AuthContextProvider=function AuthContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(authReducer,{user:null}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];useEffect(function(){var user=JSON.parse(localStorage.getItem('user'));if(user){dispatch({type:'LOGIN',payload:user});}},[]);console.log('AuthContext state:',state);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{dispatch:dispatch}),children:children});};","map":{"version":3,"names":["createContext","useReducer","useEffect","AuthContext","authReducer","state","action","type","user","payload","AuthContextProvider","children","dispatch","JSON","parse","localStorage","getItem","console","log"],"sources":["/Users/sagarkhanapurkar/Code/Torleado copy/frontend/src/context/AuthContext.js"],"sourcesContent":["import { createContext, useReducer, useEffect } from 'react'\n\nexport const AuthContext = createContext()\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case 'LOGIN':\n      return { user: action.payload }\n    case 'LOGOUT':\n      return { user: null }\n    default:\n      return state\n  }\n}\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, { \n    user: null\n  })\n\n  useEffect(() => {\n    const user = JSON.parse(localStorage.getItem('user'))\n\n    if (user) {\n      dispatch({ type: 'LOGIN', payload: user }) \n    }\n  }, [])\n\n  console.log('AuthContext state:', state)\n  \n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      { children }\n    </AuthContext.Provider>\n  )\n\n}"],"mappings":"iRAAA,OAASA,aAAT,CAAwBC,UAAxB,CAAoCC,SAApC,KAAqD,OAArD,C,2CAEA,MAAO,IAAMC,YAAW,cAAGH,aAAa,EAAjC,CAEP,MAAO,IAAMI,YAAW,CAAG,QAAdA,YAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CAC5C,OAAQA,MAAM,CAACC,IAAf,EACE,IAAK,OAAL,CACE,MAAO,CAAEC,IAAI,CAAEF,MAAM,CAACG,OAAf,CAAP,CACF,IAAK,QAAL,CACE,MAAO,CAAED,IAAI,CAAE,IAAR,CAAP,CACF,QACE,MAAOH,MAAP,CANJ,CAQD,CATM,CAWP,MAAO,IAAMK,oBAAmB,CAAG,QAAtBA,oBAAsB,MAAkB,IAAfC,SAAe,MAAfA,QAAe,CACnD,gBAA0BV,UAAU,CAACG,WAAD,CAAc,CAChDI,IAAI,CAAE,IAD0C,CAAd,CAApC,4CAAOH,KAAP,iBAAcO,QAAd,iBAIAV,SAAS,CAAC,UAAM,CACd,GAAMM,KAAI,CAAGK,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb,CAEA,GAAIR,IAAJ,CAAU,CACRI,QAAQ,CAAC,CAAEL,IAAI,CAAE,OAAR,CAAiBE,OAAO,CAAED,IAA1B,CAAD,CAAR,CACD,CACF,CANQ,CAMN,EANM,CAAT,CAQAS,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCb,KAAlC,EAEA,mBACE,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,gCAAOA,KAAP,MAAcO,QAAQ,CAARA,QAAd,EAA3B,UACID,QADJ,EADF,CAMD,CArBM"},"metadata":{},"sourceType":"module"}