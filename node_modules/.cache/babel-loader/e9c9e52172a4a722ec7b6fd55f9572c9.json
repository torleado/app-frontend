{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sagarkhanapurkar/Code/Torleado copy/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/sagarkhanapurkar/Code/Torleado copy/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{useWorkoutsContext}from'../hooks/useWorkoutsContext';import{useAuthContext}from'../hooks/useAuthContext';// date fns\nimport formatDistanceToNow from'date-fns/formatDistanceToNow';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkoutDetails=function WorkoutDetails(_ref){var workout=_ref.workout;var _useWorkoutsContext=useWorkoutsContext(),dispatch=_useWorkoutsContext.dispatch;var _useAuthContext=useAuthContext(),user=_useAuthContext.user;var handleClick=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,json;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(user){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return fetch('/api/workouts/'+workout._id,{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(user.token)}});case 4:response=_context.sent;_context.next=7;return response.json();case 7:json=_context.sent;if(response.ok){dispatch({type:'DELETE_WORKOUT',payload:json});}case 9:case\"end\":return _context.stop();}}},_callee);}));return function handleClick(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"workout-details\",children:[/*#__PURE__*/_jsx(\"h4\",{children:workout.title}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Load (kg): \"}),workout.load]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Reps: \"}),workout.reps]}),/*#__PURE__*/_jsx(\"p\",{children:formatDistanceToNow(new Date(workout.createdAt),{addSuffix:true})}),/*#__PURE__*/_jsx(\"span\",{className:\"material-symbols-outlined\",onClick:handleClick,children:\"delete\"})]});};export default WorkoutDetails;","map":{"version":3,"names":["useWorkoutsContext","useAuthContext","formatDistanceToNow","WorkoutDetails","workout","dispatch","user","handleClick","fetch","_id","method","headers","token","response","json","ok","type","payload","title","load","reps","Date","createdAt","addSuffix"],"sources":["/Users/sagarkhanapurkar/Code/Torleado copy/frontend/src/components/WorkoutDetails.js"],"sourcesContent":["import { useWorkoutsContext } from '../hooks/useWorkoutsContext'\nimport { useAuthContext } from '../hooks/useAuthContext'\n\n// date fns\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow'\n\nconst WorkoutDetails = ({ workout }) => {\n  const { dispatch } = useWorkoutsContext()\n  const { user } = useAuthContext()\n\n  const handleClick = async () => {\n    if (!user) {\n      return\n    }\n\n    const response = await fetch('/api/workouts/' + workout._id, {\n      method: 'DELETE',\n      headers: {\n        'Authorization': `Bearer ${user.token}`\n      }\n    })\n    const json = await response.json()\n\n    if (response.ok) {\n      dispatch({type: 'DELETE_WORKOUT', payload: json})\n    }\n  }\n\n  return (\n    <div className=\"workout-details\">\n      <h4>{workout.title}</h4>\n      <p><strong>Load (kg): </strong>{workout.load}</p>\n      <p><strong>Reps: </strong>{workout.reps}</p>\n      <p>{formatDistanceToNow(new Date(workout.createdAt), { addSuffix: true })}</p>\n      <span className=\"material-symbols-outlined\" onClick={handleClick}>delete</span>\n    </div>\n  )\n}\n\nexport default WorkoutDetails"],"mappings":"kSAAA,OAASA,kBAAT,KAAmC,6BAAnC,CACA,OAASC,cAAT,KAA+B,yBAA/B,CAEA;AACA,MAAOC,oBAAP,KAAgC,8BAAhC,C,wFAEA,GAAMC,eAAc,CAAG,QAAjBA,eAAiB,MAAiB,IAAdC,QAAc,MAAdA,OAAc,CACtC,wBAAqBJ,kBAAkB,EAAvC,CAAQK,QAAR,qBAAQA,QAAR,CACA,oBAAiBJ,cAAc,EAA/B,CAAQK,IAAR,iBAAQA,IAAR,CAEA,GAAMC,YAAW,6FAAG,0JACbD,IADa,uFAKKE,MAAK,CAAC,iBAAmBJ,OAAO,CAACK,GAA5B,CAAiC,CAC3DC,MAAM,CAAE,QADmD,CAE3DC,OAAO,CAAE,CACP,iCAA2BL,IAAI,CAACM,KAAhC,CADO,CAFkD,CAAjC,CALV,QAKZC,QALY,qCAWCA,SAAQ,CAACC,IAAT,EAXD,QAWZA,IAXY,eAalB,GAAID,QAAQ,CAACE,EAAb,CAAiB,CACfV,QAAQ,CAAC,CAACW,IAAI,CAAE,gBAAP,CAAyBC,OAAO,CAAEH,IAAlC,CAAD,CAAR,CACD,CAfiB,sDAAH,kBAAXP,YAAW,2CAAjB,CAkBA,mBACE,aAAK,SAAS,CAAC,iBAAf,wBACE,oBAAKH,OAAO,CAACc,KAAb,EADF,cAEE,kCAAG,uCAAH,CAAgCd,OAAO,CAACe,IAAxC,GAFF,cAGE,kCAAG,kCAAH,CAA2Bf,OAAO,CAACgB,IAAnC,GAHF,cAIE,mBAAIlB,mBAAmB,CAAC,GAAImB,KAAJ,CAASjB,OAAO,CAACkB,SAAjB,CAAD,CAA8B,CAAEC,SAAS,CAAE,IAAb,CAA9B,CAAvB,EAJF,cAKE,aAAM,SAAS,CAAC,2BAAhB,CAA4C,OAAO,CAAEhB,WAArD,oBALF,GADF,CASD,CA/BD,CAiCA,cAAeJ,eAAf"},"metadata":{},"sourceType":"module"}